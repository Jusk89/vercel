<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û—Ç–∫—Ä—ã—Ç–∫–∞ üíå</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ffd6e7;
      --bg2:#ffc0d8;
      --card:#ffffff2b;
      --border:#ffffff45;
      --accent:#ff4f9a;
      --accent2:#ff77b5;
      --text:#fff;
      --soft:#ffffffcc;
      --shadow: 0 18px 60px rgba(255, 79, 154, 0.35);
      --shadow2: 0 10px 30px rgba(0,0,0,0.12);
      --radius: 28px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 700px at 20% 10%, #fff6fa 0%, transparent 60%),
                  radial-gradient(900px 600px at 90% 30%, #ffe5f0 0%, transparent 55%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      color: var(--text);
      overflow:hidden;
    }

    /* –º–∞–ª–µ–Ω—å–∫–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏-—Ñ–æ–Ω */
    .hearts{ position:fixed; inset:0; pointer-events:none; opacity:.9; }
    .heart{
      position:absolute; width:16px; height:16px;
      transform: rotate(45deg);
      background: rgba(255,255,255,0.30);
      border-radius: 5px;
      filter: drop-shadow(0 6px 12px rgba(255,79,154,0.22));
      animation: floatUp linear infinite;
    }
    .heart:before,.heart:after{
      content:""; position:absolute; width:16px; height:16px;
      background: inherit; border-radius:50%;
    }
    .heart:before{ left:-8px; top:0; }
    .heart:after{ top:-8px; left:0; }
    @keyframes floatUp{
      0%{ transform: translateY(120vh) rotate(45deg) scale(.9); opacity:0; }
      12%{ opacity:1; }
      100%{ transform: translateY(-30vh) rotate(45deg) scale(1.15); opacity:0; }
    }

    .wrap{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 24px 16px;
      position:relative;
      z-index:2;
    }

    .layout{
      width:min(980px, 94vw);
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 18px;
      align-items: stretch;
    }

    .panel{
      background: linear-gradient(145deg, rgba(255,255,255,0.18), rgba(255,255,255,0.10)),
                  linear-gradient(145deg, rgba(255,183,207,0.55), rgba(255,147,186,0.45));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .panel::before{
      content:"";
      position:absolute;
      inset:-120px -120px auto auto;
      width: 360px; height:360px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.28), transparent 60%);
      transform: rotate(12deg);
      pointer-events:none;
    }

    /* –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –∫–æ–Ω–≤–µ—Ä—Ç */
    .envelope-area{
      padding: 24px;
      display:flex;
      flex-direction:column;
      gap: 14px;
      min-height: 520px;
    }

    .title{
      text-align:center;
      margin-top: 8px;
    }
    .title h1{
      margin:0;
      font-size: clamp(22px, 3.2vw, 30px);
      font-weight: 800;
      text-shadow: 0 10px 24px rgba(0,0,0,0.12);
    }
    .title .script{
      font-family: Pacifico, cursive;
      font-size: clamp(36px, 5.2vw, 52px);
      margin-top: 6px;
      line-height: 1.1;
      text-shadow: 0 12px 28px rgba(0,0,0,0.15);
    }

    .envelope{
      margin: 8px auto 0;
      width: min(520px, 100%);
      aspect-ratio: 16/10;
      position:relative;
      border-radius: 22px;
      box-shadow: var(--shadow2);
      overflow:hidden;
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(255,255,255,0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .env-bottom{
      position:absolute; inset:0;
      background: linear-gradient(135deg, rgba(255,255,255,0.22), rgba(255,255,255,0.10));
    }

    /* –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .env-left, .env-right{
      position:absolute; top:0; bottom:0; width:50%;
      background: rgba(255,255,255,0.18);
    }
    .env-left{
      left:0;
      clip-path: polygon(0 0, 100% 50%, 0 100%);
    }
    .env-right{
      right:0;
      clip-path: polygon(100% 0, 0 50%, 100% 100%);
    }

    /* –ö—Ä—ã—à–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞ */
    .env-flap{
      position:absolute; left:0; right:0; top:0; height:60%;
      background: linear-gradient(135deg, rgba(255,255,255,0.38), rgba(255,255,255,0.14));
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      transform-origin: top;
      transform: rotateX(0deg);
      transition: transform .6s ease;
      border-bottom: 1px solid rgba(255,255,255,0.22);
    }

    /* –ü–∏—Å—å–º–æ */
    .letter{
      position:absolute;
      left: 10%;
      right: 10%;
      bottom: 12%;
      height: 72%;
      background: rgba(255,255,255,0.38);
      border: 1px solid rgba(255,255,255,0.35);
      border-radius: 18px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.10);
      transform: translateY(42%);
      transition: transform .7s ease;
      padding: 16px 16px 18px;
      color: rgba(255,255,255,0.98);
      overflow:auto;
    }

    .letter h2{
      margin: 0 0 6px;
      font-size: 18px;
    }
    .letter p{
      margin: 10px 0;
      color: rgba(255,255,255,0.92);
      line-height: 1.6;
    }
    .to{
      font-weight: 800;
      color: rgba(255,255,255,0.98);
    }

    .open .env-flap{ transform: rotateX(165deg); }
    .open .letter{ transform: translateY(0%); }

    .controls{
      display:flex;
      gap: 10px;
      justify-content:center;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 18px;
      border-radius: 999px;
      border: none;
      cursor:pointer;
      font-weight:800;
      color:#fff;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 16px 38px rgba(255,79,154,0.45);
      transition: transform .15s ease, filter .15s ease;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.03); }
    .btn.secondary{
      background: rgba(255,255,255,0.30);
      box-shadow: var(--shadow2);
      border: 1px solid rgba(255,255,255,0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
    .side{
      padding: 24px;
      display:flex;
      flex-direction:column;
      gap: 14px;
      min-height: 520px;
    }

    .box{
      background: rgba(255,255,255,0.22);
      border: 1px solid rgba(255,255,255,0.30);
      border-radius: 22px;
      padding: 16px;
      box-shadow: var(--shadow2);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    label{
      display:block;
      font-weight: 800;
      margin-bottom: 8px;
      color: rgba(255,255,255,0.95);
    }
    input, textarea{
      width:100%;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.16);
      padding: 12px 12px;
      outline:none;
      color: rgba(255,255,255,0.98);
      font-family: inherit;
    }
    textarea{ min-height: 140px; resize: vertical; }

    .hint{
      margin: 8px 0 0;
      font-size: 13px;
      color: rgba(255,255,255,0.82);
      line-height: 1.4;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%) translateY(30px);
      background: rgba(255,255,255,0.35);
      border: 1px solid rgba(255,255,255,0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 12px 16px;
      border-radius: 16px;
      box-shadow: var(--shadow2);
      color: rgba(255,255,255,0.95);
      font-weight: 800;
      opacity: 0;
      transition: opacity .25s ease, transform .25s ease;
      z-index: 10;
      text-align:center;
      max-width: min(520px, 92vw);
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }

    @media (max-width: 860px){
      .layout{ grid-template-columns: 1fr; }
      body{ overflow:auto; }
      .hearts{ position:absolute; }
    }
  </style>
</head>

<body>
  <div class="hearts" aria-hidden="true" id="hearts"></div>

  <main class="wrap">
    <div class="layout">
      <!-- –õ–µ–≤–∞—è: –æ—Ç–∫—Ä—ã—Ç–∫–∞ -->
      <section class="panel envelope-area">
        <div class="title">
          <h1>–û—Ç–∫—Ä—ã—Ç–∫–∞</h1>
          <div class="script">–î–ª—è —Ç–µ–±—è üíó</div>
        </div>

        <div class="envelope" id="envelope">
          <div class="env-bottom"></div>
          <div class="env-left"></div>
          <div class="env-right"></div>
          <div class="env-flap"></div>

          <div class="letter" id="letter">
            <h2>üíå –ü–∏—Å—å–º–æ</h2>
            <div class="to" id="toLine">–î–ª—è: ‚ù§Ô∏è</div>
            <p id="msgLine">
              –° –î–Ω—ë–º —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞, —Å–æ–ª–Ω—ã—à–∫–æ üíñ
–Ø –±–µ–∑—É–º–Ω–æ —Ä–∞–¥, —á—Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å —Ç—ã —Å–∞–º–∞—è –º–∏–ª–∞—è, –∫—Ä–∞—Å–∏–≤–∞—è –∏ —Ä–æ–¥–Ω–∞—è. –Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω —Å—É–¥—å–±–µ –∑–∞ –Ω–∞—à—É –≤—Å—Ç—Ä–µ—á—É –∏ –∑–∞ —Ç–æ, —á—Ç–æ –º—ã –≤–º–µ—Å—Ç–µ. –ú—ã –ø—Ä–æ—à–ª–∏ —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ–µ, –Ω–æ —Å—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–µ–µ. –Ø –≤–µ—Ä—é –≤ –Ω–∞—Å –∏ –≤ –Ω–∞—à–µ –±—É–¥—É—â–µ–µ ‚ù§Ô∏è
–Ø –ª—é–±–ª—é —Ç–µ–±—è.
            </p>
            <p style="margin-top:12px; opacity:.9">
              P.S. –ù–∞–∂–º–∏ ‚Äú–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç‚Äù, —á—Ç–æ–±—ã –ø–∏—Å—å–º–æ –∫—Ä–∞—Å–∏–≤–æ –≤—ã–µ—Ö–∞–ª–æ ‚ú®
            </p>
          </div>
        </div>

        <div class="controls">
          <button class="btn" id="toggleBtn">–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç</button>
          <a class="btn secondary" href="index.html">‚Üê –ù–∞–∑–∞–¥</a>
        </div>
      </section>

      <!-- –ü—Ä–∞–≤–∞—è: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <aside class="panel side">
        <div class="box">
          <label for="name">–ò–º—è</label>
          <input id="name" placeholder="–¢–æ–º–∏—Ä–∏—Å" />
          <p class="hint">–ò–º—è —Å—Ä–∞–∑—É –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–∏—Å—å–º–µ —Å–ª–µ–≤–∞.</p>
        </div>

        <div class="box">
          <label for="message">–¢–µ–∫—Å—Ç –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è</label>
          <textarea id="message" placeholder="–ü–æ–∑–¥—Ä–≤–ª–µ–Ω–∏–µ –æ—Ç –º–µ–Ω—è"></textarea>
          <p class="hint">–ú–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—ë ‚Äî –∏ –æ–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤ –ø–∏—Å—å–º–µ.</p>
        </div>

        <div class="box">
          <button class="btn" id="copyBtn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ üìã</button>
          <p class="hint">–°–∫–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ –ø–∏—Å—å–º–∞, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä.</p>
        </div>
      </aside>
    </div>
  </main>

  <div class="toast" id="toast">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ! ‚úÖ</div>

  <script>
    // –§–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
    const hearts = document.getElementById("hearts");
    const knowWidth = () => window.innerWidth || 1000;
    const COUNT = 20;

    function rand(min, max){ return Math.random() * (max - min) + min; }

    for (let i = 0; i < COUNT; i++){
      const h = document.createElement("div");
      h.className = "heart";
      const size = rand(10, 18);
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.left = rand(0, 100) + "vw";
      h.style.animationDuration = rand(7, 15) + "s";
      h.style.animationDelay = rand(0, 8) + "s";
      h.style.background = `rgba(255,255,255,${rand(0.18, 0.42)})`;
      hearts.appendChild(h);
    }

    // –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç
    const envelope = document.getElementById("envelope");
    const toggleBtn = document.getElementById("toggleBtn");

    let opened = false;
    toggleBtn.addEventListener("click", () => {
      opened = !opened;
      envelope.classList.toggle("open", opened);
      toggleBtn.textContent = opened ? "–ó–∞–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç" : "–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç";
    });

    // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
    const nameInput = document.getElementById("name");
    const msgInput = document.getElementById("message");
    const toLine = document.getElementById("toLine");
    const msgLine = document.getElementById("msgLine");

    // –ó–∞–ø–æ–ª–Ω–∏–º textarea —Ç–µ–∫—Å—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    msgInput.value = msgLine.textContent.trim();

    nameInput.addEventListener("input", () => {
      const v = nameInput.value.trim();
      toLine.textContent = v ? `–î–ª—è: ${v} üíó` : "–î–ª—è: ‚ù§Ô∏è";
    });

    msgInput.addEventListener("input", () => {
      const v = msgInput.value.trim();
      msgLine.textContent = v || "üíó";
    });

    // –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ
    const copyBtn = document.getElementById("copyBtn");
    const toast = document.getElementById("toast");

    function showToast(text){
      toast.textContent = text;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 1800);
    }

    copyBtn.addEventListener("click", async () => {
      const who = toLine.textContent.replace("–î–ª—è:","").trim();
      const txt = `${who}\n\n${msgLine.textContent.trim()}\n\n–° –î–Ω—ë–º —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞! üíó`;
      try{
        await navigator.clipboard.writeText(txt);
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ! ‚úÖ");
      }catch(e){
        showToast("–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å üòÖ");
      }
    });
  </script>
</body>
</html>
